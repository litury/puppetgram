@import "tailwindcss";

/* ============================================
   DESIGN TOKENS - Modern Minimalism
   ============================================ */
:root {
  /* Colors - Base (глубокий чёрный с тёплым оттенком) */
  --neutral-950: #0a0a0f;
  --neutral-900: #121218;
  --neutral-850: #1a1a22;
  --neutral-800: #252530;
  --neutral-700: #3a3a45;

  /* Colors - Text (высокий контраст) */
  --text-primary: #fafafa;
  --text-secondary: #a0a0ab;
  --text-tertiary: #6b6b78;
  --text-disabled: #4a4a55;

  /* Colors - Accent (утончённый фиолетовый) */
  --accent-500: #8b7cf6;
  --accent-400: #a291f7;
  --accent-600: #6d5cd6;
  --accent-950: #1e1a35;

  /* Colors - Semantic */
  --success: #6ee7b7;
  --warning: #fbbf24;
  --error: #f87171;

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
}

/* ============================================
   LIGHT THEME
   ============================================ */
.light {
  /* Backgrounds - чистые белые с оттенками серого */
  --neutral-950: #ffffff;
  --neutral-900: #ffffff;
  --neutral-850: #f5f5f7;
  --neutral-800: #e5e5e8;
  --neutral-700: #d4d4d8;

  /* Text - тёмный на светлом */
  --text-primary: #1a1a1f;
  --text-secondary: #525258;
  --text-tertiary: #8a8a95;
  --text-disabled: #b4b4be;

  /* Accent - тот же фиолетовый */
  --accent-500: #8b7cf6;
  --accent-400: #a291f7;
  --accent-600: #6d5cd6;
  --accent-950: #f4f2ff;

  /* Semantic - адаптированные для светлой темы */
  --success: #059669;
  --warning: #d97706;
  --error: #dc2626;
}

/* Body gradient для светлой темы */
.light body {
  background: linear-gradient(135deg, #ffffff 0%, #fafafa 50%, #f8f8fa 100%);
}

/* Scrollbar для светлой темы */
.light ::-webkit-scrollbar-track {
  background: #fafafa;
}

.light ::-webkit-scrollbar-thumb {
  background: #e5e5e8;
}

.light ::-webkit-scrollbar-thumb:hover {
  background: #d4d4d8;
}

.light * {
  scrollbar-color: #e5e5e8 #fafafa;
}

/* Selection для светлой темы */
.light ::selection {
  background: #f4f2ff;
  color: #6d5cd6;
}

/* ============================================
   TAILWIND V4 THEME CONFIGURATION
   ============================================ */
@theme inline {
  /* Extend colors for utility classes */
  --color-neutral-950: var(--neutral-950);
  --color-neutral-900: var(--neutral-900);
  --color-neutral-850: var(--neutral-850);
  --color-neutral-800: var(--neutral-800);
  --color-neutral-700: var(--neutral-700);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-tertiary: var(--text-tertiary);
  --color-text-disabled: var(--text-disabled);

  --color-accent-400: var(--accent-400);
  --color-accent-500: var(--accent-500);
  --color-accent-600: var(--accent-600);
  --color-accent-950: var(--accent-950);

  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);

  /* Font family */
  --font-sans: var(--font-inter);

  /* Custom animations - disabled to prevent flickering */
  --animate-fade-in: none;
  --animate-slide-up: none;
  --animate-scale-in: none;
  --animate-shimmer: shimmer 1.5s infinite;

  /* Modal animations */
  --animate-modal-backdrop: modal-backdrop-in 200ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-modal-content: modal-content-in 300ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-modal-fade: modal-fade-in 250ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-qr-scale: qr-scale-in 300ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  --animate-check-draw: check-draw 400ms cubic-bezier(0.65, 0, 0.35, 1) forwards;
}

/* ============================================
   KEYFRAMES
   ============================================ */
@keyframes fade-in {
  from {
    opacity: 0.6;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0.6;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0.6;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(100%);
  }
}

/* Modal animations */
@keyframes modal-backdrop-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modal-content-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modal-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes qr-scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes check-draw {
  from {
    stroke-dashoffset: 100;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* ============================================
   BASE STYLES
   ============================================ */
body {
  background: linear-gradient(135deg, #0a0a0f 0%, #121218 50%, #0f0f16 100%);
  color: var(--text-primary);
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
  min-height: 100vh;
  font-variant-numeric: tabular-nums;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Theme transitions - only when theme changes */
html.theme-transitioning,
html.theme-transitioning * {
  transition: background-color 250ms cubic-bezier(0.16, 1, 0.3, 1),
              border-color 250ms cubic-bezier(0.16, 1, 0.3, 1),
              color 250ms cubic-bezier(0.16, 1, 0.3, 1) !important;
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--neutral-900);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: var(--neutral-800);
  border-radius: 3px;
  transition: background var(--duration-fast);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--neutral-700);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--neutral-800) var(--neutral-900);
}

/* ============================================
   FOCUS & SELECTION STATES
   ============================================ */
*:focus,
*:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

::selection {
  background: var(--accent-950);
  color: var(--accent-400);
}

/* ============================================
   INTERACTIVE ELEMENTS - CURSOR & HOVER
   ============================================ */
button,
a,
[role="button"],
[role="link"],
label,
select {
  cursor: pointer;
}

/* Smooth transitions для кнопок БЕЗ scale (не ломает UI) */
button {
  transition: background-color var(--duration-fast) ease,
              color var(--duration-fast) ease,
              opacity var(--duration-fast) ease;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* Убрать outline с графика и других элементов */
svg,
canvas,
iframe {
  outline: none !important;
}

svg:focus,
canvas:focus,
iframe:focus {
  outline: none !important;
}

/* ============================================
   ACCESSIBILITY - Reduced Motion
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
